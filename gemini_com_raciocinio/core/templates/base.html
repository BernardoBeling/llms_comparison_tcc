<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Gestão Industrial</title>
    <link rel="stylesheet" href="/static/css/style.css">
    <style>
        /* Req 3: Variáveis de Tema */
        body.dark-mode { background-color: #121212; color: #e0e0e0; }
        .dark-mode .card { background-color: #1e1e1e; border-color: #333; color: #fff; }
        .dark-mode table { border-color: #444; }
        .dark-mode tr:nth-child(even) { background-color: #1a1a1a; }
        .dark-mode th { background-color: #333; color: #fff; }
        .dark-mode nav { background-color: #000 !important; }
        .dark-mode input, .dark-mode select { background: #2c2c2c; color: #fff; border: 1px solid #444; }
    </style>
</head>
<body class="{% if user.theme_mode == 'dark' %}dark-mode{% endif %}">
    <nav style="background: #2c3e50; padding: 10px 20px; color: white; display: flex; justify-content: space-between; align-items: center;">
        <div>
            <strong>G-PROD</strong>
            {% if user.is_authenticated %}
                <a href="{% url 'dashboard' %}" style="color: white; margin-left: 15px; text-decoration: none;">Dashboard</a>
            {% endif %}
        </div>
        <div>
            {% if user.is_authenticated %}
                <span style="margin-right: 15px;">{{ user.name }} {% if user.is_premium %}<strong>(PREMIUM)</strong>{% endif %}</span>
                <a href="{% url 'toggle_theme' %}" style="color: #f1c40f; text-decoration: none; margin-right: 15px;">◑ Alternar Tema</a>
                <form action="{% url 'logout' %}" method="post" style="display: inline;">
                    {% csrf_token %}
                    <button type="submit" style="background: none; border: none; color: white; cursor: pointer; text-decoration: underline;">Sair</button>
                </form>
            {% endif %}
        </div>
    </nav>
    <div style="padding: 20px;">
        {% if messages %}
            {% for message in messages %}<div class="alert">{{ message }}</div>{% endfor %}
        {% endif %}
        {% block content %}{% endblock %}
    </div>
</body>
</html>